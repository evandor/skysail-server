<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<meta name="author" content="Carsten Gräf">
<title>skysail server developer documentation</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>skysail server developer documentation</h1>
<div class="details">
<span id="author" class="author">Carsten Gräf</span><br>
<span id="email" class="email"><a href="mailto:evandor@gmail.com">evandor@gmail.com</a></span><br>
<span id="revnumber">version 0.0,</span>
<span id="revdate">2017-11-03</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Developer Docs</div>
<ul class="sectlevel1">
<li><a href="#about-intended-audience">1. About &amp; Intended Audience</a></li>
<li><a href="#about-skysail-server">2. About skysail (server)</a>
<ul class="sectlevel2">
<li><a href="#introduction-skysail">2.1. Introduction: skysail&#8230;&#8203;</a>
<ul class="sectlevel3">
<li><a href="#modularity">2.1.1. Modularity</a></li>
<li><a href="#domain-centric">2.1.2. Domain-Centric</a></li>
<li><a href="#restful">2.1.3. RESTful</a></li>
<li><a href="#baas">2.1.4. BaaS</a></li>
<li><a href="#self-hosting">2.1.5. Self-Hosting</a></li>
</ul>
</li>
<li><a href="#why-not-use-x-y-z">2.2. Why not use X/Y/Z?</a></li>
<li><a href="#concepts">2.3. Concepts</a>
<ul class="sectlevel3">
<li><a href="#overview">2.3.1. Overview</a>
<ul class="sectlevel4">
<li><a href="#applications">Applications</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#resources">2.4. Resources</a>
<ul class="sectlevel3">
<li><a href="#resources-2">2.4.1. Resources</a></li>
</ul>
</li>
<li><a href="#request-processing">2.5. Request Processing</a>
<ul class="sectlevel3">
<li><a href="#overview-2">2.5.1. Overview</a>
<ul class="sectlevel4">
<li><a href="#routecreator">RouteCreator</a></li>
<li><a href="#applicationactor-request">ApplicationActor (Request)</a></li>
<li><a href="#controlleractor-request">ControllerActor (Request)</a></li>
<li><a href="#the-resource">The Resource</a></li>
<li><a href="#controlleractor-response">ControllerActor (Response)</a></li>
<li><a href="#application-controller-response">Application Controller (Response)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#domain-and-business-logic">2.6. Domain and Business Logic</a>
<ul class="sectlevel3">
<li><a href="#resources-3">2.6.1. Resources</a></li>
</ul>
</li>
<li><a href="#transformations">2.7. Transformations</a>
<ul class="sectlevel3">
<li><a href="#transformations-2">2.7.1. Transformations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#bundles">3. Bundles</a>
<ul class="sectlevel2">
<li><a href="#skysail-api">3.1. skysail.api</a>
<ul class="sectlevel4">
<li><a href="#purpose">Purpose</a></li>
<li><a href="#packages">Packages</a></li>
</ul>
</li>
<li><a href="#test">Anhang A: Test</a></li>
<li><a href="#test2">Anhang B: Test2</a></li>
<li><a href="#skysail-domain">3.2. skysail.domain</a>
<ul class="sectlevel3">
<li><a href="#namespace">3.2.1. Namespace</a></li>
<li><a href="#purpose-2">3.2.2. Purpose</a></li>
<li><a href="#packages-2">3.2.3. Packages</a></li>
<li><a href="#resources-4">3.2.4. Resources</a></li>
<li><a href="#model">3.2.5. Model</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#actors">4. Actors</a></li>
<li><a href="#todo">5. TODO</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Click <a href="meta.html">here</a> to get to the documention root.</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="about-intended-audience">1. About &amp; Intended Audience</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document is the entry point for the skysail documentation if you are
an developer. There are <a href="meta.html">other entry points</a> to read the skysail documentation,
for example if you just want to use skysail as a service.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>sidebar block</p>
</div>
</div>
</div>
<div class="paragraph lead">
<p>This is the ultimate paragraph.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="about-skysail-server">2. About skysail (server)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Carsten Gräf &lt;<a href="mailto:evandor@gmail.com">evandor@gmail.com</a>&gt;
v0.0, 2017-11-04
:toc:</p>
</div>
<div class="sect2">
<h3 id="introduction-skysail">2.1. Introduction: skysail&#8230;&#8203;</h3>
<div class="paragraph">
<p>&#8230;&#8203;is: a <strong>modular</strong>, <strong>domain-centric</strong> and <strong>RESTful BaaS</strong> (Backend as a Service)</p>
</div>
<div class="paragraph">
<p>(that you can host yourself)</p>
</div>
<div class="paragraph">
<p>The overall goal of skysail is to provide you with an environment where you can
create typical backend logic in a generic, quick way with as little dependencies
as possible. This makes skysail suited for prototypes, first of all, but I hope
that this approach - even though very generic - is good enough for production
ready applications as well.</p>
</div>
<div class="paragraph">
<p><strong>Typical backend logic covered by skysail</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Authentication / Authorization</p>
</li>
<li>
<p>Security aspects (like injections)</p>
</li>
<li>
<p>Configuration</p>
</li>
<li>
<p>Validation</p>
</li>
<li>
<p>Documentation</p>
</li>
<li>
<p>Persistence</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We have some more things skysail could help you with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>User Management</p>
</li>
<li>
<p>HTML Rendering (Template Engine)</p>
</li>
<li>
<p>Generic Client GUI</p>
</li>
<li>
<p>Prototyping</p>
</li>
<li>
<p>and - calling other APIs</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A skysail backend does not only serve JSON to be used by some client, it creates
a generic web GUI so that you can actually use and validate your implementation
directly with a browser.</p>
</div>
<div class="paragraph">
<p>Please check this site for the current implementation status of the above
features (todo).</p>
</div>
<div class="paragraph">
<p>Now, let&#8217;s explain the main buzz-words from the definition above:</p>
</div>
<div class="sect3">
<h4 id="modularity">2.1.1. Modularity</h4>
<div class="paragraph">
<p>skysail is a collection of OSGi bundles, depending on other bundles, and
defining an API for domains like authentication, security, persistence and
so on. If some API implementation does not fulfil your needs, it is easy to
replace it with your own implementation.</p>
</div>
</div>
<div class="sect3">
<h4 id="domain-centric">2.1.2. Domain-Centric</h4>
<div class="paragraph">
<p>skysail lets you concentrate on your business (or domain) logic. Http Server,
database, configuration setup and the like are already there. Just use them.
Or replace them with an implementation more suited for your needs.</p>
</div>
</div>
<div class="sect3">
<h4 id="restful">2.1.3. RESTful</h4>
<div class="paragraph">
<p>skysail concentrates on the backend and tries to stick to RESTful principles.</p>
</div>
</div>
<div class="sect3">
<h4 id="baas">2.1.4. BaaS</h4>
<div class="paragraph">
<p>skysail is a Backend-as-a-Service.</p>
</div>
</div>
<div class="sect3">
<h4 id="self-hosting">2.1.5. Self-Hosting</h4>
<div class="paragraph">
<p>The difference to many other BaaS, you can download and run skysail on your
own machines.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="why-not-use-x-y-z">2.2. Why not use X/Y/Z?</h3>
<div class="paragraph">
<p>Apart from being deployable as a <strong>single jar</strong> file, skysail supports <strong>true modularity</strong>.
That means, contrary to for example <em>Spring</em>, you have dynamic class and service
discovery, not just a static one (when the application is started). Replacing a
bundle with a new version or even a new implementation becomes trivial (apart
from writing the new bundle maybe ;)). The system can react to changes, which
could be a new additional bundle, or stopping a bundle, so that its services
will become unavailable.</p>
</div>
</div>
<div class="sect2">
<h3 id="concepts">2.3. Concepts</h3>
<div class="paragraph">
<p>In some way, skysail is just a set of concepts.<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup></p>
</div>
<div class="sect3">
<h4 id="overview">2.3.1. Overview</h4>
<div class="paragraph">
<p>Applications, Resources, Requests and Responses.</p>
</div>
<div class="sect4">
<h5 id="applications">Applications</h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Hinweis"></i>
</td>
<td class="content">
When we refer to "Application" in this documentation, what is usually
mean is a <strong>SkysailApplication</strong>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When it comes to skysail, as a developer, you can extend (and/or) fix its core functionality, or you can create Applications.</p>
</div>
<div class="paragraph">
<p>An application is a cohesive unit (in DDD: a bounded context) of functionality, expressed as a domain model, the associated business logic and made available to the outside world as a set of RESTful endpoints. And, it is an OSGi bundle.</p>
</div>
<div class="paragraph">
<p>This bundle can be deployed into the skysail server, and, given its dependencies are matched, its endpoints will be available for provisioning and consumption.</p>
</div>
<div class="paragraph">
<p>Overview
to be done</p>
</div>
<div class="paragraph">
<p>Configuration
There are (at least) two ways to configure an application: There&#8217;s the general one, which can be applied to all applications and contains definitions, for example, for CORS configuration. And then, often, you might need application-specific configurations, for example file paths or database access tokens.</p>
</div>
<div class="paragraph">
<p>General Configuration
This kind of config is described here.</p>
</div>
<div class="paragraph">
<p>Application-Specific Configuration
Let&#8217;s use an example here: let&#8217;s assume we have an application which utilizes the spotify API. So we need to configure a clientId, a clientSecret and the redirectUrl. This information should not be hardcoded, we don&#8217;t even want to put it in version control. What we do is to define a configuration description and a configuration provider:</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="resources">2.4. Resources</h3>
<div class="paragraph">
<p>&#8230;&#8203;</p>
</div>
<div class="sect3">
<h4 id="resources-2">2.4.1. Resources</h4>
<div class="paragraph">
<p>&#8230;&#8203;</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="request-processing">2.5. Request Processing</h3>
<div class="sect3">
<h4 id="overview-2">2.5.1. Overview</h4>
<div class="paragraph">
<p>Typically, in a server-client environment, you have a client making
<em>requests</em> to a server, which in turn sends back <em>responses</em>.</p>
</div>
<div class="paragraph">
<p>This chapter describes how this fundamental process in handled
in skysail.</p>
</div>
<div class="paragraph">
<p>The big picture looks like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/diagram.png" alt="Calling Sequence" width="497" height="234">
</div>
<div class="title">Abbildung 1. Calling Sequence</div>
</div>
<div class="sect4">
<h5 id="routecreator">RouteCreator</h5>
<div class="paragraph">
<p>A class called <strong>io.skysail.server.RoutesCreator</strong> is used to create akka
routes for all active skysail applications. Once a Request matches such
a route, a ProcessCommand message is sent to the corresponding application
actor.</p>
</div>
</div>
<div class="sect4">
<h5 id="applicationactor-request">ApplicationActor (Request)</h5>
<div class="paragraph">
<p>The <strong>io.skysail.server.actors.ApplicationActor</strong> wrapps all necessary information
in a SkysailContext object, which is sent to the ControllerActor. One of the objects
wrapped in the SkysailContext is a concrete <a href="resource" class="bare">resource</a> object, created using the newInstance()
method. The ApplicationActor furthermore creates a <strong>new</strong> ControllerActor object to which the
SkysailContext message is sent.</p>
</div>
</div>
<div class="sect4">
<h5 id="controlleractor-request">ControllerActor (Request)</h5>
<div class="paragraph">
<p>Now the ControllerActor (which was specifically created to serve the request) will use
the (also freshly created) Resource to execute the actual business code (which will depend
on the http method of the request).</p>
</div>
<div class="listingblock">
<div class="title">matching the requests method to execute the resource&#8217;s business logic</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">      cmd.ctx.request.method match {
        case HttpMethods.GET =&gt; resource.doGet(RequestEvent(cmd, self))
        case HttpMethods.POST =&gt; resource.asInstanceOf[PostSupport].post(RequestEvent(cmd, self))
        case HttpMethods.PUT =&gt; resource.asInstanceOf[PutSupport].put(RequestEvent(cmd, self))
        case e: Any =&gt; resource.get(RequestEvent(cmd, self))
      }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="the-resource">The Resource</h5>
<div class="paragraph">
<p>The Resource&#8217;s business logic is called. Depending on the concrete Resource, a subclass of
ResponseEventBase is created, containg the response entity.</p>
</div>
</div>
<div class="sect4">
<h5 id="controlleractor-response">ControllerActor (Response)</h5>
<div class="paragraph">
<p>Depending on the concrete ResponseEvent type, the controller performs some more logic
and passes control back to the ApplicationActor.</p>
</div>
</div>
<div class="sect4">
<h5 id="application-controller-response">Application Controller (Response)</h5>
<div class="paragraph">
<p>The responseEvent is passed to the RoutesCreator.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="domain-and-business-logic">2.6. Domain and Business Logic</h3>
<div class="paragraph">
<p>&#8230;&#8203;</p>
</div>
<div class="sect3">
<h4 id="resources-3">2.6.1. Resources</h4>
<div class="paragraph">
<p>&#8230;&#8203;</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="transformations">2.7. Transformations</h3>
<div class="paragraph">
<p>&#8230;&#8203;</p>
</div>
<div class="sect3">
<h4 id="transformations-2">2.7.1. Transformations</h4>
<div class="paragraph">
<p>&#8230;&#8203;</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bundles">3. Bundles</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="skysail-api">3.1. skysail.api</h3>
<div class="paragraph">
<p>This chapter provides an overview of the skysail.api bundle.</p>
</div>
<div class="sect4">
<h5 id="purpose">Purpose</h5>
<div class="paragraph">
<p>The skysail.api bundle is a collection of core traits, to be implemented in skysail.server (or other bundles).</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">AsciiDoc history</div>
<div class="paragraph">
<p>AsciiDoc was first released in Nov 2002 by Stuart Rackham.
It was designed from the start to be a shorthand syntax
for producing professional documents like DocBook and LaTeX.</p>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Hinweis"></i>
</td>
<td class="content">
Asciidoctor supports font-based admonition icons, powered by Font Awesome!
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">require <span class="string"><span class="delimiter">'</span><span class="content">sinatra</span><span class="delimiter">'</span></span> <i class="conum" data-value="1"></i><b>(1)</b>

get <span class="string"><span class="delimiter">'</span><span class="content">/hi</span><span class="delimiter">'</span></span> <span class="keyword">do</span>  <i class="conum" data-value="2"></i><b>(2)</b> <i class="conum" data-value="3"></i><b>(3)</b>
  <span class="string"><span class="delimiter">&quot;</span><span class="content">Hello World!</span><span class="delimiter">&quot;</span></span>
<span class="keyword">end</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Library import</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>URL mapping</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Response block</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="packages">Packages</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>io.skysail.api.ddd</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Domain Driven Design</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">link to scaladoc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>io.skysail.api.metrics</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metrics API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">link to scaladoc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>io.skysail.api.persistence</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Persistence</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">link to scaladoc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>io.skysail.api.security</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">security related</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">link to scaladoc</p></td>
</tr>
</tbody>
</table>
<div class="sect5">
<h6 id="io-skysail-api-ddd">io.skysail.api.ddd</h6>
<div class="paragraph">
<p>This package defines the following trait</p>
</div>
<div class="listingblock">
<div class="title">DddElement.scala</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">sealed trait DddElement</code></pre>
</div>
</div>
<div class="paragraph">
<p>which serves as the common parent for various derived elements which are
used to characterize the tactical patterns of "Domain Driven Design".</p>
</div>
<div class="paragraph">
<p>For example, there is an Entity and ValueObject class extening the DddElement trait.</p>
</div>
</div>
<div class="sect5">
<h6 id="io-skysail-api-metrics">io.skysail.api.metrics</h6>

</div>
<div class="sect5">
<h6 id="io-skysail-api-persistence">io.skysail.api.persistence</h6>
<div class="paragraph">
<p>This package contains the <em>DbService</em> trait which defines the API to be
implemented to provide persistence mechanisms in skysail.</p>
</div>
<div class="listingblock">
<div class="title">DbService.scala</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">  def createWithSuperClass(superClass: String, vertices: String*)
  def register(classes: Class[_]*)
  def persist(entity: Any): String
  def findGraphs[T:Manifest](cls: Class[T], sql: String): List[T]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Right now, there is only one implementation of this trait, provided in the
skysail.db.orientdb bundle.</p>
</div>
</div>
<div class="sect5">
<h6 id="io-skysail-api-security">io.skysail.api.security</h6>
<div class="imageblock">
<div class="content">
<img src="images/diagram.png" alt="Diagram Title" width="274" height="222">
</div>
<div class="title">Abbildung 2. Diagram Title</div>
</div>
<div class="paragraph">
<p>test</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cs.png" alt="Calling Sequence" width="497" height="234">
</div>
<div class="title">Abbildung 3. Calling Sequence</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="test">Anhang A: Test</h3>

</div>
<div class="sect2">
<h3 id="test2">Anhang B: Test2</h3>
<div class="paragraph">
<p>and</p>
</div>
</div>
<div class="sect2">
<h3 id="skysail-domain">3.2. skysail.domain</h3>
<div class="paragraph">
<p>This chapter provides an overview of the skysail.domain bundle.</p>
</div>
<div class="sect3">
<h4 id="namespace">3.2.1. Namespace</h4>
<div class="paragraph">
<p>io.skysail.domain</p>
</div>
</div>
<div class="sect3">
<h4 id="purpose-2">3.2.2. Purpose</h4>
<div class="paragraph">
<p>The skysail.domain bundle is a collection of core traits, to be implemented in skysail.server (or other bundles).</p>
</div>
</div>
<div class="sect3">
<h4 id="packages-2">3.2.3. Packages</h4>
<div class="ulist">
<ul>
<li>
<p>A</p>
</li>
<li>
<p>B</p>
</li>
<li>
<p>C</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/diagram.png" alt="Calling Sequence" width="497" height="234">
</div>
<div class="title">Abbildung 4. Calling Sequence</div>
</div>
</div>
<div class="sect3">
<h4 id="resources-4">3.2.4. Resources</h4>
<div class="imageblock">
<div class="content">
<img src="images/skysail/domain/resources.png" alt="test">
</div>
<div class="title">Abbildung 5. Overview</div>
</div>
</div>
<div class="sect3">
<h4 id="model">3.2.5. Model</h4>
<div class="imageblock">
<div class="content">
<img src="images/diagram2.png" alt="Calling Sequence2" width="274" height="225">
</div>
<div class="title">Abbildung 6. Calling Sequence2</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="actors">4. Actors</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/diagram.png" alt="Calling Sequence" width="497" height="234">
</div>
<div class="title">Abbildung 7. Calling Sequence</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="todo">5. TODO</h2>
<div class="sectionbody">

</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. When you create something like a library or any kind of software others might want to use, you have to make a lot of decisions. Some of those might be easy - for example, picking a specific programming language. Others, like deciding if you really want to depend on other libraries and/or frameworks (and which ones) are harder. And, of course, you have some kind of problem in mind you want to solve. So, in the end, you decide about a lot of things and create something which (hopefully) is useful - but only to people having this kind of problem, using that specific programming language and have a similar set of dependencies as you. This chapter is about the decisions I&#8217;ve made. All the concepts like "Applications", "Business Logic" and "Request Processing" - they might be valuable to only a small set of people. Still, I think these concepts are useful to solve problems I am confronted with, and I am happy to discuss (and adjust) them. Maybe they are useful to somebody else as well - hopefully, as this is the reason I started this in the first place. The two big decisions right at the beginning were: the programming language (Scala (although the first versions of skysail have been created using Java)) and the "framework" (OSGi with bndtools) For those still reading on ;): Picking this combination has a few implications: Actually, the programming language is not really restricted to Scala: You can use any language running on the Java Virtual Machine (like Java, Groovy, Clojure, &#8230;&#8203;). And, there is a clean modularization between the various parts. New Applications can be deployed into a running installation without restarting. If you are afraid to do this in production, you&#8217;ll still love it in development. Dependencies are well-expressed and clean. Round about a hundred bundles for a typical skysail installation seem a lot. But it&#8217;s not: you&#8217;ll get the server (jetty), a database (orientdb), serialization features (jackson) and validation stuff (hibernate). And more. Using OSGi let&#8217;s you pick between various implements of specific features easily (for example, where do you store your users, if at all) - and, if you don&#8217;t find what you are looking for - implement it yourself. Replace the implementation you are not happy with, and it will work. And: your deployable, it&#8217;s just a single jar file. You start it like "java -jar myskysail.installation.jar". That&#8217;s it. Database and server included.
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.0<br>
Last updated 2017-11-22 09:29:45 MEZ
</div>
</div>
</body>
</html>